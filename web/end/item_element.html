<link rel="import" href="packages/polymer/polymer.html">

<link rel="import" href="item_form.html">

<polymer-element name="item-element" attributes="item">
  <template>
    <style>
      :host {
        display: block;
        margin: 0px;
        margin: 12px 0;
        background: #fcfcfc;
        border-radius: 6px;
      }
      .codelab {
        padding: 10px;
      }
      .codelab .field {
        margin-bottom: 8px;
      }
      .codelab .field h2 {
        font-weight: normal;
        margin: 0px;
        padding: 0px;
        font-size: 1.8em;
      }
      .small {
        font-size: .8em;
      }
    </style>
    <div on-formNotNeeded="{{cancelEditing}}"
         on-itemvalidated="{{updateItem}}">
      <template if="{{!editing}}">
        <content></content>
        <div class="item">
          <div class="field">
            <h2>{{item.title}}</h2>
          </div>
          <div class="field">
            <p>{{item.description}}</p>
          </div>
          <div class="field">
            <span on-click="{{startEditing}}" class="small">Edit</span> |
            <span on-click="{{deleteItem}}" class="small">Delete</span>
          </div>
        </div>
      </template>
      <template if="{{editing}}">
        <item-form item="{{item}}">
          <content></content>
        </item-form>
      </template>
    </div>
  </template>
  <script type="application/dart" src="item_element.dart"></script>
</polymer-element>
